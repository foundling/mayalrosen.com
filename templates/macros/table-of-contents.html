{% macro render_toc(body) %}

  <ul class="toc">
    {% for item in body.toc recursive %}
      <li><a href="#{{ item.anchor }}">{{ item.title }}</a>{%
           if item.children %}<ul>{{ loop(item.children) }}</ul>{% endif %}</li>
      {% endfor %}
  </ul>

{% endmacro %}
